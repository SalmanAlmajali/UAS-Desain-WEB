<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elysium | Galeri</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="container">
    <header class="nav">
        <nav class="navbar">
            <div class="logo">
                <a class="./index.html">
                    Elysium
                </a>
            </div>
            <div class="nav-menu">
                <ul class="nav-menu-list">
                    <li class="menu-list">
                        <a href="./index.html">Beranda</a>
                    </li>
                    <li class="menu-list active">
                        <a href="./galeri.html">Galeri</a>
                    </li>
                    <li class="menu-list">
                        <a href="./pemesanan.html">Pemesanan <span class="total-barang" id="total-barang"></span></a>
                    </li>
                    <li class="menu-list">
                        <a href="./kontak.html">Kontak</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <main>
        <section class="product-container">
            <h2 class="product-container-title">Produk Kami</h2>
            <div class="products">
                <div class="product">
                    <img src="./assets/produk/Differentwhiteleathersneakers01.webp" alt="Differentwhiteleathersneakers01.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">White Leather Sneakers</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 141.900</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
                <div class="product">
                    <img src="./assets/produk/GreenCanvasSneaker01.webp" alt="GreenCanvasSneaker01.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">Green Canvas Sneakers</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 78.800</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
                <div class="product">
                    <img src="./assets/produk/GreenHoodie01.webp" alt="GreenHoodie01.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">Green Hoodie</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 141.900</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
                <div class="product">
                    <img src="./assets/produk/GreenMenscrew01.webp" alt="GreenMenscrew01.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">Green Crewneck</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 203.500</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
                <div class="product">
                    <img src="./assets/produk/GreenShorts.webp" alt="GreenShorts.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">Green Shorts</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 70.900</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
                <div class="product">
                    <img src="./assets/produk/GreenSweatpants01.webp" alt="GreenSweatpants01.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">Green Sweatpants</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 94.600</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
                <div class="product">
                    <img src="./assets/produk/GreenTshirt01.webp" alt="GreenTshirt01.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">Green T Shirt</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 78.800</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
                <div class="product">
                    <img src="./assets/produk/Greyleathersneakers.webp" alt="Greyleathersneakers.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">Grey Leather Sneakers</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 315.500</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
                <div class="product">
                    <img src="./assets/produk/Greyrunners.webp" alt="Greyrunners.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">Grey Runners</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 394.300</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
                <div class="product">
                    <img src="./assets/produk/Whiteleathersneakers01.webp" alt="Whiteleathersneakers01.webp" class="product-image" />
                    <div class="product-description" id="tambah-ke-keranjang">
                        <h1 class="name">White Leather High Top Sneakers</h1>
                        <div class="price-cart">
                            <span class="price">Rp. 161.900</span>
                            <i class="fa-solid fa-cart-plus"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer class="footer">
        <a href="./index.html" class="logo">Elysium</a>
        <p>&copy; 2023 Elysium</p>
    </footer>

    <script>
        // fungsi untuk menentukan total produk yang ada di keranjang
        function determineTotalProduct(produk) {
            document.getElementById('total-barang').innerHTML = produk.length
        }

        // fungsi untuk mengubah string nilai mata uang menjadi integer
        function splitString(nilai) {
            const numericString = nilai.replace(/[^0-9]/g, '');

            const result = parseInt(numericString, 10);

            return result;
        }

        // Skrip untuk menambahkan barang ke keranjang
        var tambahKeKeranjang = document.querySelectorAll('.product-description')
        tambahKeKeranjang.forEach(function(item, i) {
            item.addEventListener('click', function(e) {
                e.preventDefault()

                var namaProduk, hargaProduk, gambarProduk, jumlahProduk, totalHarga;

                switch (e.target.className) {
                    case 'fa-solid fa-cart-plus':
                        namaProduk = e.target.parentNode.parentNode.firstElementChild.innerHTML
                        hargaProduk = splitString(e.target.parentNode.firstElementChild.innerHTML)
                        gambarProduk = e.target.parentNode.parentNode.parentNode.firstElementChild.currentSrc
                        jumlahProduk = 1,
                        totalHarga = hargaProduk * jumlahProduk
                        break;
                    
                    case 'price-cart':
                        namaProduk = e.target.parentNode.firstElementChild.innerHTML
                        hargaProduk = splitString(e.target.innerText)
                        gambarProduk = e.target.parentNode.parentNode.firstElementChild.currentSrc
                        jumlahProduk = 1,
                        totalHarga = hargaProduk * jumlahProduk
                        break;

                    case 'price':
                        namaProduk = e.target.parentNode.parentNode.firstElementChild.innerHTML
                        hargaProduk = splitString(e.target.innerText)
                        gambarProduk = e.target.parentNode.parentNode.parentNode.firstElementChild.currentSrc
                        jumlahProduk = 1,
                        totalHarga = hargaProduk * jumlahProduk
                        break;

                    default:
                        namaProduk = e.target.innerHTML
                        hargaProduk = splitString(e.target.parentNode.lastElementChild.innerText)
                        gambarProduk = e.target.parentNode.parentNode.firstElementChild.currentSrc
                        jumlahProduk = 1,
                        totalHarga = hargaProduk * jumlahProduk
                        break;
                }

                var produk = {
                    namaProduk,
                    hargaProduk,
                    gambarProduk,
                    jumlahProduk,
                    totalHarga,
                }

                dataProduk(produk)
            })
        })

        // Skrip untuk menyimpan data produk yang ditambahkan ke keranjang dalam bentuk array
        var produk = []

        if (localStorage.getItem('produk') != null) {
            // Skrip untuk mengambil data produk yang ditambahkan dari local storage
            produk = JSON.parse(localStorage.getItem('produk'))
        }

        determineTotalProduct(produk)
        
        // Fungsi untuk menambahkan data produk ke array produk dan menyimpannya ke local storage
        function dataProduk(data) {
            produk.push(data)

            localStorage.setItem('produk', JSON.stringify(produk)) 
            
            determineTotalProduct(produk)

            alert(`${data.namaProduk} Berhasil Dimasukan Ke Keranjang`)
        }
    </script>
</body>
</html>